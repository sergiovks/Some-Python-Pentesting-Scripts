# Usage: python script.py -w wordlist.txt example.com -s

# Use -s if you want to target HTTPs

import argparse
import requests
import sys

# Parse the command-line arguments
parser = argparse.ArgumentParser(description="Subdomain scanner")
parser.add_argument("-w", "--wordlist", help="Path to the wordlist file")
parser.add_argument("domain", help="Domain to scan")
parser.add_argument("-s", "--https", action="store_true", help="Use HTTPS")
args = parser.parse_args()

wordlist_path = args.wordlist if args.wordlist else "subdomains.txt"
sub_list = open(wordlist_path).read()
subdoms = sub_list.splitlines()

protocol = "https://" if args.https else "http://"

for sub in subdoms:
    sub_domains = f"{protocol}{sub}.{args.domain}"

    try:
        requests.get(sub_domains)

    except requests.ConnectionError:
        pass

    else:
        print("Valid domain:", sub_domains)
