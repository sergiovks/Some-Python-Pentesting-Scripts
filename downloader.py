import argparse
import os
import requests

def download_file(url, filename):
    try:
        response = requests.get(url, allow_redirects=True)
        with open(filename, 'wb') as file:
            file.write(response.content)
        print(f"File downloaded successfully: {filename}")
    except requests.exceptions.RequestException as e:
        print(f"Error downloading the file: {e}")

def open_folder(path):
    try:
        if os.name == "nt":
            os.system(f"explorer {os.path.abspath(path)}")
        else:
            os.system(f"xdg-open {os.path.abspath(path)}")
    except Exception as e:
        print(f"Failed to open the folder: {e}")

def main():
    # Parse the command-line arguments
    parser = argparse.ArgumentParser(description="Download file from URL")
    parser.add_argument("url", help="URL of the file to download")
    args = parser.parse_args()

    url = args.url
    filename = os.path.basename(url)

    download_file(url, filename)

    choice = input("Do you want to open the folder where the downloaded file is saved? (Y/N): ")
    if choice.lower() == "y":
        folder_path = os.path.dirname(os.path.abspath(filename))
        open_folder(folder_path)

if __name__ == "__main__":
    main()

